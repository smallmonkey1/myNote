### 前言

MQ=消息中间件

#### MQ产品种类：

##### Kafka:

##### RabbitMQ:

##### RocketMQ:

##### ActiveMQ:

* api发送和接收
* MQ的高可用性
* MQ的集群和容错配置
* MQ持久化
* 延时发送/定时投递
* 签收机制
* Spring整合



---

### 何种场景使用了消息中间件？



![image-20200321160243879](E:\Desktop\note\MQ\基础.assets\image-20200321160243879.png)





---



### 为什么要在系统里引入消息中间件？

解决耦合调用

异步模型

抵御洪峰流量，达到保护主业务的目的，削峰

* 秒杀活动：瞬间流量到达顶峰，需要有中间件拦住洪流，给主业务处理时间

解耦、异步、削峰



---

### 是什么

#### 定义：

**面向消息的中间件(message-oriented middleware)MOM**能够很好的解决以上问题(系统耦合、流量洪流、信息异步)

大致过程：

发送者发送消息给消息服务器，消息服务器将消息存放在若干**队列/主题**中，在合适的时候消息服务器将消息转发给接收者，在这个过程中，**发送和接收是异步的**，发送无需等待。尤其在发布/订阅模式下，可以完成一对多的通信；



### 怎么用

主要功能：高可用、高性能、可伸缩、易用和安全的企业级消息中间件

异步消息的消费和处理

控制消息的消费顺序

可以和spring/springboot整合简化编码

配置集群容错的MQ集群